export type ThemeMode = "light" | "dark";

export type ThemeTokens = Record<string, string>;

export type ShadcnTheme = {
  id: string;
  label: string;
  description?: string;
  source?: string;
  cssVars: Record<ThemeMode, ThemeTokens>;
};

export type ShadcnThemeGroup = {
  id: string;
  title: string;
  description: string;
  themes: ShadcnTheme[];
};

const baseSource = "https://ui.shadcn.com/themes";

const neutralPalettes: ShadcnTheme[] = [
  {
    id: "slate",
    label: "Slate",
    description: "Cool gray neutrals that work well for applications with a modern, technical feel.",
    source: baseSource,
    cssVars: {
      light: {
        background: "0 0% 100%",
        foreground: "222.2 84% 4.9%",
        card: "0 0% 100%",
        "card-foreground": "222.2 84% 4.9%",
        popover: "0 0% 100%",
        "popover-foreground": "222.2 84% 4.9%",
        primary: "222.2 47.4% 11.2%",
        "primary-foreground": "210 40% 98%",
        secondary: "210 40% 96.1%",
        "secondary-foreground": "222.2 47.4% 11.2%",
        muted: "210 40% 96.1%",
        "muted-foreground": "215.4 16.3% 46.9%",
        accent: "210 40% 96.1%",
        "accent-foreground": "222.2 47.4% 11.2%",
        destructive: "0 84.2% 60.2%",
        "destructive-foreground": "210 40% 98%",
        border: "214.3 31.8% 91.4%",
        input: "214.3 31.8% 91.4%",
        ring: "222.2 84% 4.9%",
        "chart-1": "12 76% 61%",
        "chart-2": "173 58% 39%",
        "chart-3": "197 37% 24%",
        "chart-4": "43 74% 66%",
        "chart-5": "27 87% 67%",
      },
      dark: {
        background: "222.2 84% 4.9%",
        foreground: "210 40% 98%",
        card: "222.2 84% 4.9%",
        "card-foreground": "210 40% 98%",
        popover: "222.2 84% 4.9%",
        "popover-foreground": "210 40% 98%",
        primary: "210 40% 98%",
        "primary-foreground": "222.2 47.4% 11.2%",
        secondary: "217.2 32.6% 17.5%",
        "secondary-foreground": "210 40% 98%",
        muted: "217.2 32.6% 17.5%",
        "muted-foreground": "215 20.2% 65.1%",
        accent: "217.2 32.6% 17.5%",
        "accent-foreground": "210 40% 98%",
        destructive: "0 62.8% 30.6%",
        "destructive-foreground": "210 40% 98%",
        border: "217.2 32.6% 17.5%",
        input: "217.2 32.6% 17.5%",
        ring: "212.7 26.8% 83.9%",
        "chart-1": "220 70% 50%",
        "chart-2": "160 60% 45%",
        "chart-3": "30 80% 55%",
        "chart-4": "280 65% 60%",
        "chart-5": "340 75% 55%",
      },
    },
  },
  {
    id: "stone",
    label: "Stone",
    description: "Warm neutrals with soft contrast for editorial or lifestyle-focused brands.",
    source: baseSource,
    cssVars: {
      light: {
        background: "0 0% 100%",
        foreground: "20 14.3% 4.1%",
        card: "0 0% 100%",
        "card-foreground": "20 14.3% 4.1%",
        popover: "0 0% 100%",
        "popover-foreground": "20 14.3% 4.1%",
        primary: "24 9.8% 10%",
        "primary-foreground": "60 9.1% 97.8%",
        secondary: "60 4.8% 95.9%",
        "secondary-foreground": "24 9.8% 10%",
        muted: "60 4.8% 95.9%",
        "muted-foreground": "25 5.3% 44.7%",
        accent: "60 4.8% 95.9%",
        "accent-foreground": "24 9.8% 10%",
        destructive: "0 84.2% 60.2%",
        "destructive-foreground": "60 9.1% 97.8%",
        border: "20 5.9% 90%",
        input: "20 5.9% 90%",
        ring: "20 14.3% 4.1%",
        "chart-1": "12 76% 61%",
        "chart-2": "173 58% 39%",
        "chart-3": "197 37% 24%",
        "chart-4": "43 74% 66%",
        "chart-5": "27 87% 67%",
      },
      dark: {
        background: "20 14.3% 4.1%",
        foreground: "60 9.1% 97.8%",
        card: "20 14.3% 4.1%",
        "card-foreground": "60 9.1% 97.8%",
        popover: "20 14.3% 4.1%",
        "popover-foreground": "60 9.1% 97.8%",
        primary: "60 9.1% 97.8%",
        "primary-foreground": "24 9.8% 10%",
        secondary: "12 6.5% 15.1%",
        "secondary-foreground": "60 9.1% 97.8%",
        muted: "12 6.5% 15.1%",
        "muted-foreground": "24 5.4% 63.9%",
        accent: "12 6.5% 15.1%",
        "accent-foreground": "60 9.1% 97.8%",
        destructive: "0 62.8% 30.6%",
        "destructive-foreground": "60 9.1% 97.8%",
        border: "12 6.5% 15.1%",
        input: "12 6.5% 15.1%",
        ring: "24 5.7% 82.9%",
        "chart-1": "220 70% 50%",
        "chart-2": "160 60% 45%",
        "chart-3": "30 80% 55%",
        "chart-4": "280 65% 60%",
        "chart-5": "340 75% 55%",
      },
    },
  },
  {
    id: "gray",
    label: "Gray",
    description: "Balanced grayscale palette that keeps focus on product and typography.",
    source: baseSource,
    cssVars: {
      light: {
        background: "0 0% 100%",
        foreground: "224 71.4% 4.1%",
        card: "0 0% 100%",
        "card-foreground": "224 71.4% 4.1%",
        popover: "0 0% 100%",
        "popover-foreground": "224 71.4% 4.1%",
        primary: "220.9 39.3% 11%",
        "primary-foreground": "210 20% 98%",
        secondary: "220 14.3% 95.9%",
        "secondary-foreground": "220.9 39.3% 11%",
        muted: "220 14.3% 95.9%",
        "muted-foreground": "220 8.9% 46.1%",
        accent: "220 14.3% 95.9%",
        "accent-foreground": "220.9 39.3% 11%",
        destructive: "0 84.2% 60.2%",
        "destructive-foreground": "210 20% 98%",
        border: "220 13% 91%",
        input: "220 13% 91%",
        ring: "224 71.4% 4.1%",
        "chart-1": "12 76% 61%",
        "chart-2": "173 58% 39%",
        "chart-3": "197 37% 24%",
        "chart-4": "43 74% 66%",
        "chart-5": "27 87% 67%",
      },
      dark: {
        background: "224 71.4% 4.1%",
        foreground: "210 20% 98%",
        card: "224 71.4% 4.1%",
        "card-foreground": "210 20% 98%",
        popover: "224 71.4% 4.1%",
        "popover-foreground": "210 20% 98%",
        primary: "210 20% 98%",
        "primary-foreground": "220.9 39.3% 11%",
        secondary: "215 27.9% 16.9%",
        "secondary-foreground": "210 20% 98%",
        muted: "215 27.9% 16.9%",
        "muted-foreground": "217.9 10.6% 64.9%",
        accent: "215 27.9% 16.9%",
        "accent-foreground": "210 20% 98%",
        destructive: "0 62.8% 30.6%",
        "destructive-foreground": "210 20% 98%",
        border: "215 27.9% 16.9%",
        input: "215 27.9% 16.9%",
        ring: "216 12.2% 83.9%",
        "chart-1": "220 70% 50%",
        "chart-2": "160 60% 45%",
        "chart-3": "30 80% 55%",
        "chart-4": "280 65% 60%",
        "chart-5": "340 75% 55%",
      },
    },
  },
  {
    id: "neutral",
    label: "Neutral",
    description: "Pure grayscale ideal for content-driven dashboards and documentation.",
    source: baseSource,
    cssVars: {
      light: {
        background: "0 0% 100%",
        foreground: "0 0% 3.9%",
        card: "0 0% 100%",
        "card-foreground": "0 0% 3.9%",
        popover: "0 0% 100%",
        "popover-foreground": "0 0% 3.9%",
        primary: "0 0% 9%",
        "primary-foreground": "0 0% 98%",
        secondary: "0 0% 96.1%",
        "secondary-foreground": "0 0% 9%",
        muted: "0 0% 96.1%",
        "muted-foreground": "0 0% 45.1%",
        accent: "0 0% 96.1%",
        "accent-foreground": "0 0% 9%",
        destructive: "0 84.2% 60.2%",
        "destructive-foreground": "0 0% 98%",
        border: "0 0% 89.8%",
        input: "0 0% 89.8%",
        ring: "0 0% 3.9%",
        "chart-1": "12 76% 61%",
        "chart-2": "173 58% 39%",
        "chart-3": "197 37% 24%",
        "chart-4": "43 74% 66%",
        "chart-5": "27 87% 67%",
      },
      dark: {
        background: "0 0% 3.9%",
        foreground: "0 0% 98%",
        card: "0 0% 3.9%",
        "card-foreground": "0 0% 98%",
        popover: "0 0% 3.9%",
        "popover-foreground": "0 0% 98%",
        primary: "0 0% 98%",
        "primary-foreground": "0 0% 9%",
        secondary: "0 0% 14.9%",
        "secondary-foreground": "0 0% 98%",
        muted: "0 0% 14.9%",
        "muted-foreground": "0 0% 63.9%",
        accent: "0 0% 14.9%",
        "accent-foreground": "0 0% 98%",
        destructive: "0 62.8% 30.6%",
        "destructive-foreground": "0 0% 98%",
        border: "0 0% 14.9%",
        input: "0 0% 14.9%",
        ring: "0 0% 83.1%",
        "chart-1": "220 70% 50%",
        "chart-2": "160 60% 45%",
        "chart-3": "30 80% 55%",
        "chart-4": "280 65% 60%",
        "chart-5": "340 75% 55%",
      },
    },
  },
  {
    id: "zinc",
    label: "Zinc",
    description: "Soft desaturated neutrals that blend well with colorful accents.",
    source: baseSource,
    cssVars: {
      light: {
        background: "0 0% 100%",
        foreground: "240 10% 3.9%",
        card: "0 0% 100%",
        "card-foreground": "240 10% 3.9%",
        popover: "0 0% 100%",
        "popover-foreground": "240 10% 3.9%",
        primary: "240 5.9% 10%",
        "primary-foreground": "0 0% 98%",
        secondary: "240 4.8% 95.9%",
        "secondary-foreground": "240 5.9% 10%",
        muted: "240 4.8% 95.9%",
        "muted-foreground": "240 3.8% 46.1%",
        accent: "240 4.8% 95.9%",
        "accent-foreground": "240 5.9% 10%",
        destructive: "0 84.2% 60.2%",
        "destructive-foreground": "0 0% 98%",
        border: "240 5.9% 90%",
        input: "240 5.9% 90%",
        ring: "240 10% 3.9%",
        "chart-1": "12 76% 61%",
        "chart-2": "173 58% 39%",
        "chart-3": "197 37% 24%",
        "chart-4": "43 74% 66%",
        "chart-5": "27 87% 67%",
      },
      dark: {
        background: "240 10% 3.9%",
        foreground: "0 0% 98%",
        card: "240 10% 3.9%",
        "card-foreground": "0 0% 98%",
        popover: "240 10% 3.9%",
        "popover-foreground": "0 0% 98%",
        primary: "0 0% 98%",
        "primary-foreground": "240 5.9% 10%",
        secondary: "240 3.7% 15.9%",
        "secondary-foreground": "0 0% 98%",
        muted: "240 3.7% 15.9%",
        "muted-foreground": "240 5% 64.9%",
        accent: "240 3.7% 15.9%",
        "accent-foreground": "0 0% 98%",
        destructive: "0 62.8% 30.6%",
        "destructive-foreground": "0 0% 98%",
        border: "240 3.7% 15.9%",
        input: "240 3.7% 15.9%",
        ring: "240 4.9% 83.9%",
        "chart-1": "220 70% 50%",
        "chart-2": "160 60% 45%",
        "chart-3": "30 80% 55%",
        "chart-4": "280 65% 60%",
        "chart-5": "340 75% 55%",
      },
    },
  },
];

const expressivePalettes: ShadcnTheme[] = [
  {
    id: "daylight",
    label: "Daylight",
    description: "Cheerful amber tones inspired by ui.shadcn.com's Daylight preset.",
    source: baseSource,
    cssVars: {
      light: {
        background: "36 39% 88%",
        foreground: "36 45% 15%",
        primary: "36 45% 70%",
        "primary-foreground": "36 45% 11%",
        secondary: "40 35% 77%",
        "secondary-foreground": "36 45% 25%",
        accent: "36 64% 57%",
        "accent-foreground": "36 72% 17%",
        destructive: "0 84% 37%",
        "destructive-foreground": "0 0% 98%",
        muted: "36 33% 75%",
        "muted-foreground": "36 45% 25%",
        card: "36 46% 82%",
        "card-foreground": "36 45% 20%",
        popover: "0 0% 100%",
        "popover-foreground": "240 10% 3.9%",
        border: "36 45% 60%",
        input: "36 45% 60%",
        ring: "36 45% 30%",
        "chart-1": "25 34% 28%",
        "chart-2": "26 36% 34%",
        "chart-3": "28 40% 40%",
        "chart-4": "31 41% 48%",
        "chart-5": "35 43% 53%",
      },
      dark: {
        background: "36 39% 88%",
        foreground: "36 45% 15%",
        primary: "36 45% 70%",
        "primary-foreground": "36 45% 11%",
        secondary: "40 35% 77%",
        "secondary-foreground": "36 45% 25%",
        accent: "36 64% 57%",
        "accent-foreground": "36 72% 17%",
        destructive: "0 84% 37%",
        "destructive-foreground": "0 0% 98%",
        muted: "36 33% 75%",
        "muted-foreground": "36 45% 25%",
        card: "36 46% 82%",
        "card-foreground": "36 45% 20%",
        popover: "0 0% 100%",
        "popover-foreground": "240 10% 3.9%",
        border: "36 45% 60%",
        input: "36 45% 60%",
        ring: "36 45% 30%",
        "chart-1": "25 34% 28%",
        "chart-2": "26 36% 34%",
        "chart-3": "28 40% 40%",
        "chart-4": "31 41% 48%",
        "chart-5": "35 43% 53%",
      },
    },
  },
  {
    id: "midnight",
    label: "Midnight",
    description: "Moody high-contrast palette for premium dashboards and landing pages.",
    source: baseSource,
    cssVars: {
      light: {
        background: "240 5% 6%",
        foreground: "60 5% 90%",
        primary: "240 0% 90%",
        "primary-foreground": "60 0% 0%",
        secondary: "240 4% 15%",
        "secondary-foreground": "60 5% 85%",
        accent: "240 0% 13%",
        "accent-foreground": "60 0% 100%",
        destructive: "0 60% 50%",
        "destructive-foreground": "0 0% 98%",
        muted: "240 5% 25%",
        "muted-foreground": "60 5% 85%",
        card: "240 4% 10%",
        "card-foreground": "60 5% 90%",
        popover: "240 5% 15%",
        "popover-foreground": "60 5% 85%",
        border: "240 6% 20%",
        input: "240 6% 20%",
        ring: "240 5% 90%",
        "chart-1": "359 2% 90%",
        "chart-2": "240 1% 74%",
        "chart-3": "240 1% 58%",
        "chart-4": "240 1% 42%",
        "chart-5": "240 2% 26%",
      },
      dark: {
        background: "240 5% 6%",
        foreground: "60 5% 90%",
        primary: "240 0% 90%",
        "primary-foreground": "60 0% 0%",
        secondary: "240 4% 15%",
        "secondary-foreground": "60 5% 85%",
        accent: "240 0% 13%",
        "accent-foreground": "60 0% 100%",
        destructive: "0 60% 50%",
        "destructive-foreground": "0 0% 98%",
        muted: "240 5% 25%",
        "muted-foreground": "60 5% 85%",
        card: "240 4% 10%",
        "card-foreground": "60 5% 90%",
        popover: "240 5% 15%",
        "popover-foreground": "60 5% 85%",
        border: "240 6% 20%",
        input: "240 6% 20%",
        ring: "240 5% 90%",
        "chart-1": "359 2% 90%",
        "chart-2": "240 1% 74%",
        "chart-3": "240 1% 58%",
        "chart-4": "240 1% 42%",
        "chart-5": "240 2% 26%",
      },
    },
  },
  {
    id: "emerald",
    label: "Emerald",
    description: "Vibrant emerald greens with balanced contrast for marketing or fintech experiences.",
    source: baseSource,
    cssVars: {
      light: {
        background: "0 0% 100%",
        foreground: "240 10% 3.9%",
        card: "0 0% 100%",
        "card-foreground": "240 10% 3.9%",
        popover: "0 0% 100%",
        "popover-foreground": "240 10% 3.9%",
        primary: "142 86% 28%",
        "primary-foreground": "356 29% 98%",
        secondary: "240 4.8% 95.9%",
        "secondary-foreground": "240 5.9% 10%",
        muted: "240 4.8% 95.9%",
        "muted-foreground": "240 3.8% 45%",
        accent: "240 4.8% 95.9%",
        "accent-foreground": "240 5.9% 10%",
        destructive: "0 72% 51%",
        "destructive-foreground": "0 0% 98%",
        border: "240 5.9% 90%",
        input: "240 5.9% 90%",
        ring: "142 86% 28%",
        "chart-1": "139 65% 20%",
        "chart-2": "140 74% 44%",
        "chart-3": "142 88% 28%",
        "chart-4": "137 55% 15%",
        "chart-5": "141 40% 9%",
      },
      dark: {
        background: "240 10% 3.9%",
        foreground: "0 0% 98%",
        card: "240 10% 3.9%",
        "card-foreground": "0 0% 98%",
        popover: "240 10% 3.9%",
        "popover-foreground": "0 0% 98%",
        primary: "142 86% 28%",
        "primary-foreground": "356 29% 98%",
        secondary: "240 4.8% 95.9%",
        "secondary-foreground": "240 5.9% 10%",
        muted: "240 3.7% 15.9%",
        "muted-foreground": "240 5% 64.9%",
        accent: "240 3.7% 15.9%",
        "accent-foreground": "0 0% 98%",
        destructive: "0 72% 51%",
        "destructive-foreground": "0 0% 98%",
        border: "240 3.7% 15.9%",
        input: "240 3.7% 15.9%",
        ring: "142 86% 28%",
        "chart-1": "142 88% 28%",
        "chart-2": "139 65% 20%",
        "chart-3": "140 74% 24%",
        "chart-4": "137 55% 15%",
        "chart-5": "141 40% 9%",
      },
    },
  },
];

export const shadcnThemeGroups: ShadcnThemeGroup[] = [
  {
    id: "neutral",
    title: "Neutral foundations",
    description:
      "Start from one of the stock shadcn/ui palettes when you want a dependable base for dashboards, marketing sites, or documentation.",
    themes: neutralPalettes,
  },
  {
    id: "expressive",
    title: "Expressive palettes",
    description:
      "Curated themes from ui.shadcn.com/themes that introduce personality while preserving accessible contrast.",
    themes: expressivePalettes,
  },
];

export const shadcnThemes = [...neutralPalettes, ...expressivePalettes];

export function createThemeCss(theme: ShadcnTheme): string {
  const format = (tokens: ThemeTokens) =>
    Object.entries(tokens)
      .map(([token, value]) => `  --${token}: ${value};`)
      .join("\n");

  return `:root {\n${format(theme.cssVars.light)}\n}\n\n.dark {\n${format(theme.cssVars.dark)}\n}`;
}
